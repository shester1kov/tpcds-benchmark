# Implementation Tasks: S3 Config — Фаза 1

> Работай через фазы ПО ПОРЯДКУ. Каждая фаза строится на предыдущей.

## Перед стартом

- [x] Прочитай и пойми `spec.md`
- [x] Прочитай и пойми `design.md`
- [x] Выполни `/own:advise` для подготовки
- [x] Спроси ментора если что-то непонятно

---

## Фаза 1: Структура конфигурации
> Добавить новые типы в Go — без логики.

- [x] Объявить `S3Config` в `pkg/config/config.go` со всеми полями и yaml-тегами
- [x] Добавить поле `S3 *S3Config` в структуру `Config`

**Checkpoint:** Код компилируется без ошибок. `go build ./...`

---

## Фаза 2: Валидация
> Защита от неправильной конфигурации.

- [x] В методе `Validate()` добавить проверку S3 полей
  └── Зависит от: Фаза 1 завершена
- [x] Сообщения об ошибках читаемые: `"s3: endpoint не задан"` — не технические коды
  └── Зависит от: проверки написаны

**Checkpoint:** Если запустить с `enabled: true` и пустым endpoint — видишь понятную ошибку.

---

## Фаза 3: YAML конфиги
> Обновить конфигурационные файлы.

- [x] Добавить секцию `s3_config:` в `config/config.yaml` с реальными значениями
  └── Зависит от: структура готова
- [x] Обновить `config/config.yaml.example` — заглушки вместо реальных ключей
  └── Зависит от: Фаза 1 завершена

**Checkpoint:** Запуск с текущим конфигом не падает (`S3 == nil` → всё ок).

---

## Фаза 4: Проверка
> Убедиться, что всё работает правильно.

- [x] Проверить: `go build ./...` проходит
- [x] Проверить: все acceptance criteria из `spec.md` выполнены
- [x] Проверить: `.gitignore` содержит `config/config.yaml` (секреты не уйдут в git)

---

## Завершение

- [x] Самопроверка: код соответствует спеку?
- [x] Запусти `/own:done` — 6 Gates + code review
- [ ] Запусти `/own:retro` — зафиксируй learnings

## Прогресс

| Фаза | Статус | Начата | Завершена |
|------|--------|--------|-----------|
| Структура | ✅ Завершена | 2026-02-17 | 2026-02-17 |
| Валидация | ✅ Завершена | 2026-02-17 | 2026-02-17 |
| YAML конфиги | ✅ Завершена | 2026-02-17 | 2026-02-17 |
| Проверка | ✅ Завершена | 2026-02-17 | 2026-02-17 |

---

*Ты пишешь код. Спрашивай ментора когда застрял.*
